#Makefile to generate the test files from the XML descriptors.
#Add a autogenerated file as the target. This will ensure the dependencies
#are updated properly. The xml generation will therefore only happen if the
#xml file or the _proto files are updated.

XML2CODE := ./TestAuto_Mate/xml2code.py

XML_DESC := ../src/st/baseLib/_proto.h\
 ../src/ft/dsLib/_proto.h\
 ../src/st/dsLib/_proto.h\
 ../src/st/msgLib/S/_proto_Srv.h\
 ../src/st/msgLib/C/_proto_Cli.h


xml:$(XML_DESC)
	@echo "Generated source files from xml descriptors"

../src/st/baseLib/_proto.h:./documents/st/baseLib/baseLib-ST.xml
	$(XML2CODE) $< ../src/st/baseLib/

../src/ft/dsLib/_proto.h:./documents/ft/dsLib/dsLib-FT.xml
	$(XML2CODE) $< ../src/ft/dsLib/

../src/st/dsLib/_proto.h:./documents/st/dsLib/dsLib-ST.xml
	$(XML2CODE) $< ../src/st/dsLib/

../src/st/msgLib/S/_proto_Srv.h:./documents/st/msgLib/msgLib-Srv.xml
	$(XML2CODE) $< ../src/st/msgLib/S/

../src/st/msgLib/C/_proto_Cli.h:./documents/st/msgLib/msgLib-Cli.xml
	$(XML2CODE) $< ../src/st/msgLib/C/

rpm:xml
	@echo
.PHONY:clean
clean:
	@echo
.PHONY:cleanall
cleanall:
	@echo
